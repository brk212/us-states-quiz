<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US States Quiz</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Mode Selection Screen -->
        <div id="mode-selection" class="screen">
            <header>
                <h1>US States Quiz</h1>
                <p class="subtitle">Test your geography knowledge</p>
            </header>

            <div class="mode-buttons">
                <button class="mode-btn" data-mode="states">
                    <span class="mode-title">States</span>
                    <span class="mode-desc">Find states by name</span>
                </button>
                <button class="mode-btn" data-mode="capitals">
                    <span class="mode-title">Capitals</span>
                    <span class="mode-desc">Find states by capital city</span>
                </button>
                <button class="mode-btn" data-mode="mottos">
                    <span class="mode-title">Mottos</span>
                    <span class="mode-desc">Find states by motto</span>
                </button>
                <button class="mode-btn" data-mode="wildcard">
                    <span class="mode-title">Wildcard</span>
                    <span class="mode-desc">Random mix of all types</span>
                </button>
            </div>

            <div class="center-btn">
                <button id="view-scores-btn" class="btn btn-secondary">View High Scores</button>
            </div>
        </div>

        <!-- Game Area -->
        <div id="game-area" class="screen hidden">
            <header>
                <h1>US States Quiz</h1>
                <p class="subtitle">Mode: <span id="current-mode">States</span></p>
            </header>

            <div class="game-info">
                <div class="score-panel">
                    <div class="score-item">
                        <span class="label">Score</span>
                        <span id="score" class="value">0</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Streak</span>
                        <span id="streak" class="value">0</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Progress</span>
                        <span id="progress" class="value">0/50</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Time</span>
                        <span id="timer" class="value">0:00</span>
                    </div>
                </div>

                <div class="question-panel">
                    <p>Find: <span id="target-state" class="target-state">Loading...</span></p>
                </div>
            </div>

            <div class="map-container">
                <svg id="us-map"></svg>
            </div>

            <div id="feedback" class="feedback hidden"></div>

            <div class="controls">
                <button id="restart-btn" class="btn btn-secondary">Change Mode</button>
                <button id="skip-btn" class="btn btn-primary">Skip</button>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="game-over" class="modal hidden">
            <div class="modal-content">
                <h2>Quiz Complete!</h2>
                <div class="results">
                    <div class="result-item">
                        <span class="result-label">Final Score</span>
                        <span id="final-score" class="result-value">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Time</span>
                        <span id="final-time" class="result-value">0:00</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Correct</span>
                        <span id="correct-count" class="result-value">0</span>/50
                    </div>
                    <div class="result-item">
                        <span class="result-label">Accuracy</span>
                        <span id="accuracy" class="result-value">0</span>%
                    </div>
                </div>
                <button id="play-again-btn" class="btn btn-primary">Play Again</button>
            </div>
        </div>

        <!-- High Scores Modal -->
        <div id="high-scores-modal" class="modal hidden">
            <div class="modal-content modal-large">
                <h2>High Scores</h2>
                <div id="high-scores-content"></div>
                <button id="close-scores-btn" class="btn btn-secondary">Close</button>
            </div>
        </div>

        <!-- Initials Input Modal -->
        <div id="initials-modal" class="modal hidden">
            <div class="modal-content">
                <h2>New High Score!</h2>
                <p>Enter your initials:</p>
                <input type="text" id="initials-input" maxlength="3" placeholder="AAA" autocomplete="off">
                <button id="submit-initials-btn" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
